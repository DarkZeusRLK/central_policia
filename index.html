<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Central de Polícia | REVOADA RJ</title>

  <link rel="shortcut icon" href="public/images/Logo_policia.png" type="image/x-icon">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="style/main.css">

  <style>
    /* Tela de Carregamento */
    body.loading {
      overflow: hidden;
    }

    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #0a0e17 0%, #1e293b 100%);
      z-index: 99999;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: opacity 0.5s ease, visibility 0.5s ease;
    }

    .loading-screen.hidden {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }

    body:not(.loading) .loading-screen {
      display: none;
    }

    .loading-logo {
      width: 120px;
      height: 120px;
      margin-bottom: 30px;
      animation: pulse 2s ease-in-out infinite;
      filter: drop-shadow(0 0 20px rgba(251, 191, 36, 0.6));
    }

    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 4px solid rgba(251, 191, 36, 0.2);
      border-top: 4px solid var(--accent-gold);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 20px;
    }

    .loading-text {
      color: var(--accent-gold);
      font-size: 1.2rem;
      font-weight: 600;
      letter-spacing: 2px;
      text-transform: uppercase;
      margin-top: 20px;
      animation: fadeInOut 2s ease-in-out infinite;
    }

    .loading-progress {
      width: 300px;
      height: 4px;
      background: rgba(251, 191, 36, 0.2);
      border-radius: 2px;
      margin-top: 20px;
      overflow: hidden;
    }

    .loading-progress-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--accent-gold), #fcd34d);
      width: 0%;
      transition: width 0.3s ease;
      box-shadow: 0 0 10px rgba(251, 191, 36, 0.8);
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    @keyframes fadeInOut {

      0%,
      100% {
        opacity: 0.5;
      }

      50% {
        opacity: 1;
      }
    }

    /* Proteção contra seleção de texto */
    body.no-select {
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      -webkit-touch-callout: none;
    }

    /* CSS Extra para garantir que o 'select' fique igual aos inputs */
    .input-group select {
      width: 100%;
      padding: 12px;
      background: rgba(255, 255, 255, 0.05);
      /* Mesmo fundo dos inputs */
      border: 1px solid rgba(255, 255, 255, 0.1);
      color: white;
      border-radius: 8px;
      margin-top: 5px;
      font-family: inherit;
      outline: none;
    }

    .input-group select:focus {
      border-color: var(--accent-gold, #fbbf24);
    }

    /* Cor das opções internas do select (para não ficar branco no fundo branco do navegador) */
    .input-group select option {
      background: #1e293b;
      color: white;
    }

    /* Estilos da Galeria de Fotos em Grid */
    .photo-gallery-container {
      max-width: 100%;
      margin: 0 auto;
      border-radius: 12px;
      background: rgba(30, 41, 59, 0.8);
      border: 1px solid rgba(255, 255, 255, 0.1);
      padding: 20px;
    }

    .photo-gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .photo-gallery-item {
      aspect-ratio: 1;
      border-radius: 8px;
      overflow: hidden;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 2px solid rgba(255, 255, 255, 0.1);
      background: rgba(15, 23, 42, 0.5);
    }

    .photo-gallery-item:hover {
      transform: translateY(-5px);
      border-color: var(--accent-gold, #fbbf24);
      box-shadow: 0 8px 25px rgba(251, 191, 36, 0.3);
    }

    .photo-gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    /* Modal para visualização ampliada */
    .photo-modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.95);
      backdrop-filter: blur(10px);
      animation: fadeIn 0.3s ease;
    }

    .photo-modal.active {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .photo-modal-content {
      position: relative;
      max-width: 90%;
      max-height: 90%;
      margin: auto;
      animation: zoomIn 0.3s ease;
    }

    .photo-modal-content img {
      width: 100%;
      height: auto;
      max-height: 90vh;
      object-fit: contain;
      border-radius: 8px;
      box-shadow: 0 10px 50px rgba(0, 0, 0, 0.5);
    }

    .photo-modal-close {
      position: absolute;
      top: -40px;
      right: 0;
      color: white;
      font-size: 40px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      background: rgba(251, 191, 36, 0.9);
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
    }

    .photo-modal-close:hover {
      background: var(--accent-gold);
      transform: rotate(90deg);
    }

    .photo-modal-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(251, 191, 36, 0.9);
      color: white;
      border: none;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 24px;
      transition: all 0.3s ease;
      z-index: 1001;
    }

    .photo-modal-nav:hover {
      background: var(--accent-gold);
      transform: translateY(-50%) scale(1.1);
    }

    .photo-modal-nav.prev {
      left: 20px;
    }

    .photo-modal-nav.next {
      right: 20px;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    @keyframes zoomIn {
      from {
        transform: scale(0.8);
        opacity: 0;
      }

      to {
        transform: scale(1);
        opacity: 1;
      }
    }

    /* Banner dos Comandos Gerais */
    .commanders-banner {
      position: relative;
      width: 100%;
      max-width: 1400px;
      margin: 0 auto;
      height: 450px;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5),
        0 0 0 1px rgba(251, 191, 36, 0.2),
        inset 0 0 100px rgba(251, 191, 36, 0.1);
      border: 2px solid rgba(251, 191, 36, 0.3);
      transition: all 0.4s ease;
      background: linear-gradient(135deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.9));
    }

    .commanders-banner:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 60px rgba(251, 191, 36, 0.5),
        0 0 0 2px var(--accent-gold),
        inset 0 0 150px rgba(251, 191, 36, 0.15);
      border-color: var(--accent-gold);
    }

    .commanders-banner-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      transition: transform 0.6s ease;
    }

    .commanders-banner:hover .commanders-banner-image {
      transform: scale(1.05);
    }

    .commanders-banner-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg,
          rgba(15, 23, 42, 0.75) 0%,
          rgba(30, 41, 59, 0.65) 30%,
          rgba(15, 23, 42, 0.7) 70%,
          rgba(15, 23, 42, 0.85) 100%);
      z-index: 1;
    }

    .commanders-banner-content {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      z-index: 2;
      width: 90%;
      max-width: 800px;
      animation: fadeInUp 0.8s ease;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translate(-50%, -40%);
      }

      to {
        opacity: 1;
        transform: translate(-50%, -50%);
      }
    }

    .commanders-banner-title {
      font-size: 3.5rem;
      font-weight: 800;
      color: white;
      margin-bottom: 15px;
      text-transform: uppercase;
      letter-spacing: 4px;
      text-shadow: 0 4px 20px rgba(0, 0, 0, 0.9),
        0 0 30px rgba(251, 191, 36, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 20px;
      line-height: 1.2;
    }

    .commanders-banner-title i {
      color: var(--accent-gold);
      filter: drop-shadow(0 0 15px rgba(251, 191, 36, 1));
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {

      0%,
      100% {
        transform: scale(1);
        filter: drop-shadow(0 0 15px rgba(251, 191, 36, 1));
      }

      50% {
        transform: scale(1.1);
        filter: drop-shadow(0 0 25px rgba(251, 191, 36, 0.8));
      }
    }

    .commanders-banner-subtitle {
      font-size: 1.3rem;
      color: var(--accent-gold);
      font-weight: 600;
      letter-spacing: 3px;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.9),
        0 0 20px rgba(251, 191, 36, 0.4);
      text-transform: uppercase;
    }

    @media (max-width: 768px) {
      .photo-gallery-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 15px;
      }

      .photo-modal-close {
        top: -35px;
        width: 40px;
        height: 40px;
        font-size: 30px;
      }

      .photo-modal-nav {
        width: 40px;
        height: 40px;
        font-size: 18px;
      }

      .photo-modal-nav.prev {
        left: 10px;
      }

      .photo-modal-nav.next {
        right: 10px;
      }

      .commanders-banner {
        height: 300px;
        border-radius: 15px;
      }

      .commanders-banner-title {
        font-size: 2rem;
        letter-spacing: 2px;
        gap: 10px;
        flex-direction: column;
      }

      .commanders-banner-title i {
        font-size: 2.5rem;
      }

      .commanders-banner-subtitle {
        font-size: 0.9rem;
        letter-spacing: 1px;
      }
    }
  </style>
</head>

<body class="loading">

  <!-- Tela de Carregamento -->
  <div id="loadingScreen" class="loading-screen">
    <img src="public/images/Logo_policia.png" alt="Logo" class="loading-logo">
    <div class="loading-spinner"></div>
    <div class="loading-text">Carregando...</div>
    <div class="loading-progress">
      <div class="loading-progress-bar" id="loadingProgress"></div>
    </div>
  </div>

  <nav class="navbar">
    <a href="#" class="logo">
      <img src="public/images/Logo_policia.png" alt="Logo Revoada">
    </a>

    <ul class="nav-links">
      <li><a href="#" class="active"><i class="fa-solid fa-house"></i> Início</a></li>

      <li class="dropdown">
        <a href="#"><i class="fa-solid fa-user-group"></i> Recrutamentos <i class="fa-solid fa-chevron-down"></i></a>
        <div class="dropdown-content">
          <a href="public/departamentopcerj.html">
            <img src="public/images/Brasão_da_Polícia_Civil_do_Estado_do_Rio_de_Janeiro (1).png" alt="PCERJ" class="nav-icon" style="width: 25px; height: auto;"> PCERJ
          </a>
          <a href="public/batalhaopmerj.html">
            <img src="public/images/Brasão_da_Polícia_Militar_do_Estado_do_Rio_de_Janeiro_-_PMERJ.png" alt="PMERJ" class="nav-icon" style="width: 25px; height: auto;"> PMERJ
          </a>
          <a href="public/departamentoprf.html">
            <img src="public/images/PRF_new.png" alt="PRF" class="nav-icon" style="width: 25px; height: auto;"> PRF
          </a>
          <a href="public/departamentopf.html">
            <img src="public/images/Policia-federal-logo.png" alt="PF" class="nav-icon" style="width: 25px; height: auto;"> PF
          </a>
        </div>
      </li>
      <li><a href="public/boletim.html"><i class="fa-solid fa-clipboard"></i> Boletim de Ocorrência</a></li>
      <li><a href="public/jornalmare.html"><i class="fa-solid fa-newspaper"></i> Jornal Mare</a></li>
      <li><a href="https://policia-revoada.vercel.app" target="_blank"><i class="fa-solid fa-gavel"></i> Código Penal</a></li>
      <li><a href="https://discord.gg/uCBKjAt2vm" target="_blank"><i class="fa-solid fa-scale-balanced"></i> Corregedoria de Polícia</a></li>
    </ul>
    <div class="system-status">
      <span class="pulsing-dot"></span>
      <span class="status-text">SISTEMA ONLINE</span>
    </div>
    <div class="nav-user-group" style="display: flex; align-items: center; gap: 20px;">
      <a href="#" id="nav-police" class="access-link" style="text-decoration: none; color: #94a3b8; font-weight: 500; display: flex; align-items: center; gap: 8px;">
        <i class="fa-solid fa-lock"></i> Acesso Policial
      </a>
      <div id="user-area" class="user-area">
        <button id="btn-login" class="btn-login" onclick="window.location.href='/api/auth'">
          <i class="fa-brands fa-discord"></i> Login
        </button>
      </div>
    </div>
  </nav>
  <div class="video-background">
    <video autoplay muted loop playsinline id="myVideo">
      <source src="public/images/videoplayback.mp4" type="video/mp4">
    </video>
    <div class="video-overlay"></div>
  </div>
  <header class="hero">
    <div class="hero-top-bar">
    </div>
    <div class="hero-content">
      <h1 class="glitch-effect" data-text="SERVIR E PROTEGER">SERVIR E PROTEGER</h1>
      <p>Central de Polícia Oficial da Cidade Revoada RJ</p>
      <div class="stats-glass">
        <div class="stat-item">
          <i class="fa-regular fa-calendar-days"></i>
          <span id="date-display">--/--/----</span>
        </div>
        <div class="stat-divider"></div>
        <div class="stat-item">
          <i class="fa-regular fa-clock"></i>
          <span id="time-display">00:00</span>
        </div>
      </div>
    </div>
  </header>

  <main>
    <section id="jornal" class="container">
      <h2 class="section-title"><i class="fa-regular fa-newspaper"></i> Jornal da Polícia</h2>
      <div id="news-grid" class="news-grid">
        <div class="loading-placeholder">Carregando notícias...</div>
      </div>
    </section>
    <section class="container">
      <div class="glass-panel info-grid">
        <div class="info-item">
          <h2><i class="fa-solid fa-scale-balanced"></i> Nossa Missão</h2>
          <p>Garantir a ordem pública e a segurança de todos os cidadãos de Revoada RJ, atuando com integridade, transparência e respeito aos direitos humanos. Nossa força está na união e na disciplina.</p>
        </div>
        <div class="info-divider"></div>
        <div class="info-item">
          <h2><i class="fa-solid fa-gavel"></i> Como Funcionamos</h2>
          <p>A Polícia de Revoada opera 24 horas por dia através de patrulhamento ostensivo, investigações criminais (PCERJ) e operações táticas especiais. Trabalhamos em conjunto com a comunidade para prevenir crimes.</p>
        </div>
      </div>
    </section>

    <!-- Galeria de Fotos em Grid -->
    <section class="container" style="margin-top: 40px;">
      <h2 class="section-title"><i class="fa-solid fa-images"></i> Galeria de Fotos</h2>
      <div class="photo-gallery-container">
        <div class="photo-gallery-grid">
          <div class="photo-gallery-item" onclick="openPhotoModal('public/images/instagram_1.png', 'Comando Geral 1')">
            <img src="public/images/instagram_1.png" alt="Comando Geral 1">
          </div>
          <div class="photo-gallery-item" onclick="openPhotoModal('public/images/instagram_2.png', 'Comando Geral 2')">
            <img src="public/images/instagram_2.png" alt="Comando Geral 2">
          </div>
          <div class="photo-gallery-item" onclick="openPhotoModal('public/images/instagram_3.png', 'Comando Geral 3')">
            <img src="public/images/instagram_3.png" alt="Comando Geral 3">
          </div>
          <div class="photo-gallery-item" onclick="openPhotoModal('public/images/instagram_4.png', 'Logo Polícia')">
            <img src="public/images/instagram_4.png" alt="Logo Polícia">
          </div>
          <div class="photo-gallery-item" onclick="openPhotoModal('public/images/instagram_5.png', 'Comando Geral 1')">
            <img src="public/images/instagram_5.png" alt="Comando Geral 1">
          </div>
          <div class="photo-gallery-item" onclick="openPhotoModal('public/images/instagram_6.png', 'Comando Geral 2')">
            <img src="public/images/instagram_6.png" alt="Comando Geral 2">
          </div>
          <div class="photo-gallery-item" onclick="openPhotoModal('public/images/instagram_7.png', 'Comando Geral 3')">
            <img src="public/images/instagram_7.png" alt="Comando Geral 3">
          </div>
          <div class="photo-gallery-item" onclick="openPhotoModal('public/images/instagram_8.png', 'Logo Polícia')">
            <img src="public/images/instagram_8.png" alt="Logo Polícia">
          </div>
          <div class="photo-gallery-item" onclick="openPhotoModal('public/images/instagram_9.png', 'Logo Polícia')">
            <img src="public/images/instagram_9.png" alt="Logo Polícia">
          </div>
          <div class="photo-gallery-item" onclick="openPhotoModal('public/images/instagram_10.png', 'Logo Polícia')">
            <img src="public/images/instagram_10.png" alt="Logo Polícia">
          </div>
          <div class="photo-gallery-item" onclick="openPhotoModal('public/images/instagram_11.png', 'Comando Geral 3')">
            <img src="public/images/instagram_11.png" alt="Comando Geral 3">
          </div>
          <div class="photo-gallery-item" onclick="openPhotoModal('public/images/instagram_12.png', 'Logo Polícia')">
            <img src="public/images/instagram_12.png" alt="Logo Polícia">
          </div>
          <div class="photo-gallery-item" onclick="openPhotoModal('public/images/instagram_13.png', 'Logo Polícia')">
            <img src="public/images/instagram_13.png" alt="Logo Polícia">
          </div>
          <div class="photo-gallery-item" onclick="openPhotoModal('public/images/instagram_14.png', 'Logo Polícia')">
            <img src="public/images/instagram_14.png" alt="Logo Polícia">
          </div>
          <div class="photo-gallery-item" onclick="openPhotoModal('public/images/instagram_15.png', 'Logo Polícia')">
            <img src="public/images/instagram_15.png" alt="Logo Polícia">
          </div>
          <div class="photo-gallery-item" onclick="openPhotoModal('public/images/instagram_16.png', 'Logo Polícia')">
            <img src="public/images/instagram_16.png" alt="Logo Polícia">
          </div>
        </div>
      </div>
    </section>

    <!-- Modal para visualização ampliada -->
    <div id="photoModal" class="photo-modal" onclick="closePhotoModal(event)">
      <div class="photo-modal-content" onclick="event.stopPropagation()">
        <button class="photo-modal-close" onclick="closePhotoModal(event)">&times;</button>
        <button id="photoModalPrev" class="photo-modal-nav prev" onclick="showPreviousPhoto(event)">
          <i class="fa-solid fa-chevron-left"></i>
        </button>
        <button id="photoModalNext" class="photo-modal-nav next" onclick="showNextPhoto(event)">
          <i class="fa-solid fa-chevron-right"></i>
        </button>
        <img id="modalImage" src="" alt="" onerror="this.onerror=null; this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'800\' height=\'600\'%3E%3Crect fill=\'%231e293b\' width=\'800\' height=\'600\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' font-family=\'Arial\' font-size=\'24\' fill=\'%23fbbf24\' text-anchor=\'middle\' dominant-baseline=\'middle\'%3EImagem não disponível%3C/text%3E%3C/svg%3E'">
      </div>
    </div>

    <!-- Banner dos Comandos Gerais -->
    <section class="container" style="margin-top: 40px;">
      <div class="commanders-banner">
        <div class="commanders-banner-overlay"></div>
        <div class="commanders-banner-content">
          <h2 class="commanders-banner-title">
            <img src="public/images/image.png" alt=""> COMANDO GERAL
          </h2>
          <p class="commanders-banner-subtitle">Liderança da Polícia Revoada RJ</p>
        </div>
        <img src="public/images/commanders/comandantes_gerais.png" alt="Comandantes Gerais" class="commanders-banner-image" onerror="this.style.display='none';">
      </div>
    </section>

    <section class="container commanders-section">
      <h2 class="section-title"><i class="fa-solid fa-star"></i> Comando Geral</h2>
      <div class="commanders-grid">
        <div style="grid-column: 1 / -1; text-align: center; padding: 50px 20px; color: #64748b;">
          <i class="fa-solid fa-circle-notch fa-spin fa-3x" style="color: var(--accent-gold); margin-bottom: 15px;"></i>
          <p>Sincronizando dados do comando...</p>
        </div>
      </div>
    </section>
    <section class="container" style="margin-top: 20px;">
      <div class="glass-panel">
        <h3 style="color: white; margin-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px;">
          <i class="fa-solid fa-chart-line"></i> Estatísticas do Dia
        </h3>

        <div class="stats-live-grid">
          <div class="stat-live-item">
            <div class="icon-box alert"><i class="fa-solid fa-handcuffs"></i></div>
            <div class="stat-text">
              <h3 id="stat-prisoes">--</h3>
              <p>Prisões Hoje</p>
            </div>
          </div>

          <div class="stat-live-item">
            <div class="icon-box warning"><i class="fa-solid fa-sack-dollar"></i></div>
            <div class="stat-text">
              <h3 id="stat-fiancas">--</h3>
              <p>Fianças Hoje</p>
            </div>
          </div>

          <div class="stat-live-item">
            <div class="icon-box success"><i class="fa-solid fa-clipboard-check"></i></div>
            <div class="stat-text">
              <h3 id="stat-total">--</h3>
              <p>Total Registros</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="main-footer">
    <div class="footer-content">
      <div class="footer-col">
        <h4><i class="fa-solid fa-shield-halved"></i> REVOADA RJ</h4>
        <p>Central oficial de segurança pública. Servindo com honra e coragem.</p>
        <p>Developed by Dark and Tonin</p>
      </div>
      <div class="footer-col">
        <h4>Acesso Rápido</h4>
        <ul>
          <li><a href="#">Início</a></li>
          <li><a href="#">Recrutamentos</a></li>
          <li><a href="public/boletim.html">Registrar B.O.</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Emergência</h4>
        <ul class="emergency-contacts">
          <li><i class="fa-solid fa-phone"></i> 190 - Polícia Militar</li>
          <li><i class="fa-solid fa-phone"></i> 191 - Polícia Rodoviária Federal</li>
          <li><i class="fa-solid fa-phone "></i> 194 - Polícia Federal</li>
          <li><i class="fa-solid fa-phone"></i> 197 - Polícia Civil</li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2026 Polícia Revoada RJ. Todos os direitos reservados.</p>
    </div>
  </footer>

  <div id="login-modal" class="modal-overlay hidden">
    <div class="modal-box">
      <div class="modal-icon"><i class="fa-solid fa-user-shield"></i></div>
      <h2>Identificação Necessária</h2>
      <p>Para registrar um Boletim de Ocorrência ou acessar a Área Policial, você precisa se identificar primeiro.</p>
      <div class="modal-actions">
        <button class="btn-close-modal" onclick="closeLoginModal()">Entendi</button>
        <button class="btn-login-modal" onclick="proceedToLogin()">Fazer Login Agora</button>
      </div>
    </div>
  </div>

  <script src="scripts/app.js"></script>

  <!-- Proteção contra Inspeção -->
  <script>
    // Desabilitar clique direito
    document.addEventListener('contextmenu', function (e) {
      e.preventDefault();
      return false;
    });

    // Desabilitar seleção de texto
    document.addEventListener('selectstart', function (e) {
      e.preventDefault();
      return false;
    });

    // Desabilitar arrastar imagens
    document.addEventListener('dragstart', function (e) {
      e.preventDefault();
      return false;
    });

    // Desabilitar atalhos de teclado comuns
    document.addEventListener('keydown', function (e) {
      // F12, Ctrl+Shift+I, Ctrl+Shift+J, Ctrl+U, Ctrl+S
      if (e.key === 'F12' ||
        (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'J' || e.key === 'C')) ||
        (e.ctrlKey && (e.key === 'U' || e.key === 'S' || e.key === 'P'))) {
        e.preventDefault();
        return false;
      }
    });

    // Detectar abertura de DevTools (método mais sutil)
    let devtools = { open: false };
    const threshold = 160;

    function detectDevTools() {
      const widthThreshold = window.outerWidth - window.innerWidth > threshold;
      const heightThreshold = window.outerHeight - window.innerHeight > threshold;

      if (widthThreshold || heightThreshold) {
        if (!devtools.open) {
          devtools.open = true;
          // Bloqueia a página
          document.body.style.display = 'none';
          document.body.innerHTML = '<div style="display:flex;align-items:center;justify-content:center;height:100vh;background:#0a0e17;color:#fbbf24;font-size:2rem;text-align:center;padding:20px;position:fixed;top:0;left:0;width:100%;z-index:999999;"><div><i class="fa-solid fa-shield-halved" style="font-size:4rem;margin-bottom:20px;"></i><h1>Acesso Negado</h1><p>O uso de ferramentas de desenvolvedor não é permitido.</p><p style="font-size:1rem;margin-top:20px;color:#94a3b8;">Por favor, feche as ferramentas de desenvolvedor e recarregue a página.</p></div></div>';
        }
      } else {
        devtools.open = false;
      }
    }

    setInterval(detectDevTools, 500);
    // CÓDIGO DO CLIQUE AQUI EMCIMA
    // Detecção adicional via console
    let element = new Image();
    Object.defineProperty(element, 'id', {
      get: function () {
        detectDevTools();
        document.body.style.display = 'none';
        document.body.innerHTML = '<div style="display:flex;align-items:center;justify-content:center;height:100vh;background:#0a0e17;color:#fbbf24;font-size:2rem;text-align:center;padding:20px;position:fixed;top:0;left:0;width:100%;z-index:999999;"><div><i class="fa-solid fa-shield-halved" style="font-size:4rem;margin-bottom:20px;"></i><h1>Acesso Negado</h1><p>O uso de ferramentas de desenvolvedor não é permitido.</p></div></div>';
      }
    });

    // Proteção adicional contra console
    (function () {
      const noop = function () { };
      const methods = ['log', 'debug', 'info', 'warn', 'error', 'assert', 'dir', 'dirxml', 'group', 'groupEnd', 'time', 'timeEnd', 'count', 'trace', 'profile', 'profileEnd'];
      methods.forEach(function (method) {
        window.console[method] = noop;
      });
    })();

    // Desabilitar cópia
    document.addEventListener('copy', function (e) {
      e.clipboardData.setData('text/plain', '');
      e.preventDefault();
      return false;
    });

    // Desabilitar colar
    document.addEventListener('paste', function (e) {
      e.preventDefault();
      return false;
    });

    // Desabilitar cortar
    document.addEventListener('cut', function (e) {
      e.preventDefault();
      return false;
    });

    // Proteção contra print screen (F12, Print Screen)
    document.addEventListener('keydown', function (e) {
      if (e.key === 'PrintScreen') {
        navigator.clipboard.writeText('');
        e.preventDefault();
        return false;
      }
    });

    // Adicionar classe no-select ao body
    document.body.classList.add('no-select');

    // Proteção adicional: desabilitar inspeção de elementos
    document.addEventListener('keydown', function (e) {
      // Ctrl+Shift+C (inspecionar elemento)
      if (e.ctrlKey && e.shiftKey && e.key === 'C') {
        e.preventDefault();
        return false;
      }
    });

    // Bloquear acesso ao objeto window.console após um tempo
    setTimeout(function () {
      Object.defineProperty(window, 'console', {
        value: {},
        writable: false,
        configurable: false
      });
    }, 2000);
  </script>

  <script>
    // Galeria de Fotos - Modal com Navegação
    let currentPhotoIndex = 0;
    const photoGallery = [
      { src: 'public/images/instagram_1.png', alt: 'Comando Geral 1' },
      { src: 'public/images/instagram_2.png', alt: 'Comando Geral 2' },
      { src: 'public/images/instagram_3.png', alt: 'Comando Geral 3' },
      { src: 'public/images/instagram_4.png', alt: 'Logo Polícia' },
      { src: 'public/images/instagram_5.png', alt: 'Comando Geral 1' },
      { src: 'public/images/instagram_6.png', alt: 'Comando Geral 2' },
      { src: 'public/images/instagram_7.png', alt: 'Comando Geral 3' },
      { src: 'public/images/instagram_8.png', alt: 'Logo Polícia' },
      { src: 'public/images/instagram_9.png', alt: 'Logo Polícia' },
      { src: 'public/images/instagram_10.png', alt: 'Logo Polícia' },
      { src: 'public/images/instagram_11.png', alt: 'Comando Geral 3' },
      { src: 'public/images/instagram_12.png', alt: 'Logo Polícia' },
      { src: 'public/images/instagram_13.png', alt: 'Logo Polícia' },
      { src: 'public/images/instagram_14.png', alt: 'Logo Polícia' },
      { src: 'public/images/instagram_15.png', alt: 'Logo Polícia' },
      { src: 'public/images/instagram_16.png', alt: 'Logo Polícia' }
    ];

    function openPhotoModal(imageSrc, imageAlt) {
      // Encontra o índice da imagem atual
      currentPhotoIndex = photoGallery.findIndex(photo => photo.src === imageSrc);
      if (currentPhotoIndex === -1) currentPhotoIndex = 0;

      const modal = document.getElementById('photoModal');
      const modalImage = document.getElementById('modalImage');

      modalImage.src = imageSrc;
      modalImage.alt = imageAlt;
      modal.classList.add('active');
      document.body.style.overflow = 'hidden';
      updateNavigationButtons();
    }

    function closePhotoModal(event) {
      if (event) {
        event.stopPropagation();
      }
      const modal = document.getElementById('photoModal');
      modal.classList.remove('active');
      document.body.style.overflow = '';
    }

    function showPreviousPhoto(event) {
      if (event) event.stopPropagation();
      currentPhotoIndex = (currentPhotoIndex - 1 + photoGallery.length) % photoGallery.length;
      const photo = photoGallery[currentPhotoIndex];
      document.getElementById('modalImage').src = photo.src;
      document.getElementById('modalImage').alt = photo.alt;
      updateNavigationButtons();
    }

    function showNextPhoto(event) {
      if (event) event.stopPropagation();
      currentPhotoIndex = (currentPhotoIndex + 1) % photoGallery.length;
      const photo = photoGallery[currentPhotoIndex];
      document.getElementById('modalImage').src = photo.src;
      document.getElementById('modalImage').alt = photo.alt;
      updateNavigationButtons();
    }

    function updateNavigationButtons() {
      const prevBtn = document.getElementById('photoModalPrev');
      const nextBtn = document.getElementById('photoModalNext');
      if (prevBtn && nextBtn) {
        prevBtn.style.display = photoGallery.length > 1 ? 'flex' : 'none';
        nextBtn.style.display = photoGallery.length > 1 ? 'flex' : 'none';
      }
    }

    // Fechar modal com tecla ESC
    document.addEventListener('keydown', function (event) {
      const modal = document.getElementById('photoModal');
      if (modal && modal.classList.contains('active')) {
        if (event.key === 'Escape') {
          closePhotoModal();
        } else if (event.key === 'ArrowLeft') {
          showPreviousPhoto(event);
        } else if (event.key === 'ArrowRight') {
          showNextPhoto(event);
        }
      }
    });
  </script>

  <script>
    // Máscara para Telefone (Padrão RP: xxx-xxx)
    const inputTelefone = document.querySelector('input[name="telefone"]');

    if (inputTelefone) {
      inputTelefone.addEventListener('input', function (e) {
        // 1. Remove tudo que não é número
        let value = e.target.value.replace(/\D/g, '');

        // 2. Limita a 6 dígitos no máximo
        if (value.length > 6) value = value.slice(0, 6);

        // 3. Aplica o traço depois do 3º dígito
        if (value.length > 3) {
          value = value.replace(/^(\d{3})(\d+)/, '$1-$2');
        }

        e.target.value = value;
      });
    }
    // Função para carregar estatísticas do Discord
    async function loadOperationalStats() {
      try {
        // Chama a API que criamos
        const response = await fetch('/api/stats');

        if (response.ok) {
          const data = await response.json();

          // Atualiza os números na tela com animação simples
          document.getElementById('stat-prisoes').innerText = data.prisoes;
          document.getElementById('stat-fiancas').innerText = data.fiancas;
          document.getElementById('stat-total').innerText = data.total;
        } else {
          console.warn("API de stats offline");
          document.getElementById('stat-prisoes').innerText = "0";
        }
      } catch (error) {
        console.error("Erro ao carregar stats:", error);
      }
    }

    // Chama a função quando a página carregar
    document.addEventListener("DOMContentLoaded", () => {
      loadOperationalStats();

      // Opcional: Atualiza a cada 60 segundos automaticamente
      setInterval(loadOperationalStats, 60000);
    });

    // Sistema de Carregamento (apenas na primeira visita)
    (function () {
      // Verifica se já foi carregado antes
      const hasLoadedBefore = localStorage.getItem('site_loaded_before');

      if (hasLoadedBefore) {
        // Se já carregou antes, esconde a tela imediatamente
        const loadingScreen = document.getElementById('loadingScreen');
        if (loadingScreen) {
          loadingScreen.style.display = 'none';
          loadingScreen.classList.add('hidden');
        }
        document.body.classList.remove('loading', 'no-select');
        document.body.style.overflow = '';
        return; // Sai da função, não executa o resto
      }

      const loadingScreen = document.getElementById('loadingScreen');
      const progressBar = document.getElementById('loadingProgress');
      let loadedImages = 0;
      let totalImages = 0;
      let resourcesLoaded = false;
      let imagesLoaded = false;

      // Função para verificar se todas as imagens foram carregadas
      function checkImagesLoaded() {
        // Primeira verificação imediata
        let images = document.querySelectorAll('img:not(.loading-logo)');
        totalImages = images.length;
        let loaded = 0;

        if (totalImages === 0) {
          // Se não houver imagens, aguarda um pouco e considera carregado
          setTimeout(() => {
            imagesLoaded = true;
            checkAllLoaded();
          }, 1000);
          return;
        }

        function processImage(img) {
          if (img.complete && img.naturalHeight !== 0) {
            loaded++;
            updateProgress(20 + (loaded / totalImages) * 50);
            if (loaded === totalImages) {
              imagesLoaded = true;
              checkAllLoaded();
            }
          } else {
            img.addEventListener('load', function () {
              loaded++;
              updateProgress(20 + (loaded / totalImages) * 50);
              if (loaded === totalImages) {
                imagesLoaded = true;
                checkAllLoaded();
              }
            }, { once: true });

            img.addEventListener('error', function () {
              loaded++;
              updateProgress(20 + (loaded / totalImages) * 50);
              if (loaded === totalImages) {
                imagesLoaded = true;
                checkAllLoaded();
              }
            }, { once: true });
          }
        }

        images.forEach(processImage);

        // Verifica novamente após um tempo para imagens carregadas dinamicamente
        setTimeout(() => {
          images = document.querySelectorAll('img:not(.loading-logo)');
          if (images.length > totalImages) {
            const newImages = Array.from(images).slice(totalImages);
            totalImages = images.length;
            newImages.forEach(processImage);
          }
        }, 2000);

        // Timeout de segurança (máximo 8 segundos)
        setTimeout(() => {
          if (!imagesLoaded) {
            imagesLoaded = true;
            updateProgress(70);
            checkAllLoaded();
          }
        }, 8000);
      }

      // Função para verificar recursos
      function checkResourcesLoaded() {
        // Aguarda o carregamento completo da página
        if (document.readyState === 'complete') {
          resourcesLoaded = true;
          updateProgress(30);
          checkAllLoaded();
        } else {
          window.addEventListener('load', function () {
            resourcesLoaded = true;
            updateProgress(30);
            checkAllLoaded();
          });
        }
      }

      // Função para atualizar a barra de progresso
      function updateProgress(percent) {
        if (progressBar) {
          progressBar.style.width = Math.min(percent, 100) + '%';
        }
      }

      // Função para verificar se tudo foi carregado
      function checkAllLoaded() {
        if (resourcesLoaded && imagesLoaded) {
          // Aguarda um pouco mais para garantir que tudo está renderizado
          setTimeout(() => {
            updateProgress(100);
            setTimeout(() => {
              if (loadingScreen) {
                loadingScreen.classList.add('hidden');
                // Remove as classes após carregar
                document.body.classList.remove('no-select', 'loading');
                // Permite scroll novamente
                document.body.style.overflow = '';
                // Marca como carregado no localStorage
                localStorage.setItem('site_loaded_before', 'true');
              }
            }, 500);
          }, 300);
        }
      }

      // Inicia o processo de carregamento
      updateProgress(10);
      checkResourcesLoaded();

      // Aguarda um pouco antes de verificar imagens
      setTimeout(() => {
        updateProgress(20);
        checkImagesLoaded();
      }, 500);
    })();

    // Função para limpar cache (útil para testes - pode ser removida em produção)
    // Para testar novamente a tela de carregamento, execute no console:
    // localStorage.removeItem('site_loaded_before'); location.reload();
  </script>

</body>

</html>